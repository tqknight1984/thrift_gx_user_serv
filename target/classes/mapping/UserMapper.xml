<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.gx.dao.UserMapper">

    <resultMap id="ObjUser" type="com.gx.model.ObjUser">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Aug 31 18:07:05 CST 2016.
        -->
        <id column="uid" jdbcType="BIGINT" property="uid"/>
        <result column="u_type" jdbcType="CHAR" property="u_type"/>
        <result column="u_name" jdbcType="VARCHAR" property="u_name"/>
        <result column="u_pass" jdbcType="VARCHAR" property="u_pass"/>
        <result column="eid" jdbcType="BIGINT" property="eid"/>
        <result column="mobile" jdbcType="VARCHAR" property="mobile"/>
        <result column="create_tm" jdbcType="TIMESTAMP" property="create_tm"/>
        <result column="isdelete" jdbcType="CHAR" property="isdelete"/>
    </resultMap>

    <!-- 一条查询语句 -->
    <select id="selectUserById" parameterType="int" resultType="ObjUser">
        select * from obj_user where uid = #{uid}
    </select>


    <!-- procedures-->
    <!--IN `v_uid` bigint, IN `v_uname` varchar(60), in `v_upass` varchar(32),in `v_mobile` varchar(11), out int_ret int-->
    <parameterMap id="pro_regist_p_param" type="map">
        <parameter property="v_uid" jdbcType="INTEGER" mode="IN"/>
        <parameter property="v_uname" jdbcType="VARCHAR" mode="IN"/>
        <parameter property="v_upass" jdbcType="VARCHAR" mode="IN"/>
        <parameter property="v_mobile" jdbcType="VARCHAR" mode="IN"/>
        <parameter property="int_ret" jdbcType="INTEGER" mode="OUT"/>
    </parameterMap>

    <update id="pro_regist_p" parameterMap="pro_regist_p_param" statementType="CALLABLE">
    {CALL `gxweb`.`pro_regist_p`(?,?,?,?,?)}
    </update>


    <!-- procedures 企业-->
    <!--IN `v_uid` bigint, IN `v_uname` varchar(60), in `v_upass` varchar(32),in `v_mobile` varchar(11), out int_ret int-->
    <parameterMap id="pro_regist_b_param" type="map">
        <parameter property="v_uid" jdbcType="INTEGER" mode="IN"/>
        <parameter property="v_uname" jdbcType="VARCHAR" mode="IN"/>
        <parameter property="v_upass" jdbcType="VARCHAR" mode="IN"/>
        <parameter property="v_mobile" jdbcType="VARCHAR" mode="IN"/>
        <parameter property="int_ret" jdbcType="INTEGER" mode="OUT"/>
    </parameterMap>

    <update id="pro_regist_b" parameterMap="pro_regist_b_param" statementType="CALLABLE">
        {CALL `gxweb`.`pro_regist_b`(?,?,?,?,?)}
    </update>


    <parameterMap id="pro_change_pwd_param" type="map">
        <parameter property="v_uid" jdbcType="INTEGER" mode="IN"/>
        <parameter property="v_old_pwd" jdbcType="VARCHAR" mode="IN"/>
        <parameter property="v_new_pwd" jdbcType="VARCHAR" mode="IN"/>
        <parameter property="int_ret" jdbcType="INTEGER" mode="OUT"/>
    </parameterMap>

    <update id="pro_change_pwd" parameterMap="pro_change_pwd_param" statementType="CALLABLE">
        {CALL `gxweb`.`pro_change_pwd`(?,?,?,?)}
    </update>


</mapper>